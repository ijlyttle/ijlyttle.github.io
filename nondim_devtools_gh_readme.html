<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title></title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<link rel="stylesheet"
      href="site_libs/highlight/default.css"
      type="text/css" />
<script src="site_libs/highlight/highlight.js"></script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Wanderings through the Tidyverse</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Dimensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Ingest</li>
    <li class="dropdown-header">API-client design</li>
    <li class="dropdown-header">Tidy</li>
    <li class="dropdown-header">Transform</li>
    <li class="dropdown-header">Visualize</li>
    <li class="dropdown-header">Model</li>
    <li>
      <a href="model_introduction.html">Introduction</a>
    </li>
    <li>
      <a href="model_cv_selection.html">Model-selection using cross-validation</a>
    </li>
    <li>
      <a href="model_bootstrap_parameter.html">Parameter-assessment using bootstrapping</a>
    </li>
    <li class="dropdown-header">Communicate</li>
    <li>
      <a href="communicate_custom_html_document_format_r_markdown.html">Custom html-document formats for R Markdown</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Non-dimensions
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction</li>
    <li>
      <a href="nondim_devtools_gh.html">Devtools and GitHub Enterprise</a>
    </li>
    <li class="dropdown-header">Dates and times</li>
    <li class="dropdown-header">Makefiles for project manangement</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Package portfolio
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">vembedr</li>
    <li class="dropdown-header">bsplus</li>
    <li class="dropdown-header">shinypod</li>
    <li class="dropdown-header">humidr</li>
    <li class="dropdown-header">groundTemp</li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>




</div>


<div id="utilrprivate" class="section level1">
<h1>utilr{{Private}}</h1>
<p>This is a lightweight package, built on top of Hadley Wickham’s (henceforth Hadley) <a href="https://github.com/hadley/devtools">devtools</a> and Jim Hester’s <a href="http://github.com/jimhester/withr">withr</a>, to make it easier for you to install R pagkages hosted on {{Private}}’s installation of GitHub, and also to make it easier to work outside of {{Private}}.</p>
<p>As with everything in R, there is some up-front cost to setting up your “ecosystem”. However, once you have everything set up, “it just works”.</p>
<div id="access-to-private-github" class="section level2">
<h2>Access to {{Private}} GitHub</h2>
<p>If you are reading this, you likely already have access. To make sure (or to help others), point your favorite browser to: <a href="https://%7B%7Bprivate_host%7D" class="uri">https://{{private_host}</a>}, and make sure that you have an operational account.</p>
<div id="installing-r-packages" class="section level3">
<h3>Installing R Packages</h3>
<p>To install R packages from {{Private}} GitHub, you will not need to install git. You will need only to be able to access the {{Private}} GitHub API.</p>
<div id="personal-access-token" class="section level4">
<h4>Personal Access Token</h4>
<p>This is adapted from <a href="https://github.com/hadley/httr/blob/master/vignettes/api-packages.Rmd#appendix-api-key-best-practices">Hadley’s API-key best practices</a></p>
<p>The installation function uses a Personal-Access Token (PAT) to authorize you to the GitHub API. Don’t worry, the function takes care of the details - your responsibility is to get a PAT, and to put it in a place that the installation function will expect it.</p>
<p>Getting a PAT is easy:</p>
<ol style="list-style-type: decimal">
<li><p>Go to <a href="https://%7B%7Bprivate_host%7D%7D/settings/tokens">{{Private}} GitHub &gt; Settings &gt; Tokens</a>.</p></li>
<li><p>Click the “Generate new token” button, add a description, click the “Add token” button. The defaults have always worked well for me.</p></li>
<li><p>Copy the token to your clipboard, as this is your one-and-only chance to “see” the token on the website.</p></li>
</ol>
<p>Next, you have to put the token where the installation function will expect it. The best practice is to put this in a file called <code>.Renviron</code> in your home directory.</p>
<ol style="list-style-type: decimal">
<li><p>To determine your home directory, type <code>normalizePath(&quot;~/&quot;)</code> in the R console.</p></li>
<li><p>Create a new text file. If in RStudio, do File &gt; New File &gt; Text file.</p></li>
<li><p>Create a line like this:</p>
<p><code>GITHUB_{{Private}}_PAT=blahblahblahblahblahblah</code></p>
<p>where the name <code>GITHUB_{{Private}}_PAT</code> reminds you which API this is for an <code>blahblahblahblahblahblah</code> is your personal access token, pasted from the clipboard.</p></li>
<li><p>Make sure the last line in the file is empty (if it isn’t, R will silently fail to load the file). If you’re using an editor that shows line numbers, there should be two lines, where the second one is empty.</p></li>
<li><p>Save in your home directory with the filename <code>.Renviron</code>. If questioned, YES you do want to use a filename that begins with a dot <code>.</code>.</p>
<p>Note that by default dotfiles are usually hidden. But within RStudio, the file browser will make <code>.Renviron</code> visible and therefore easy to edit in the future. Also note that on Windows, you may need to use the Windows Explorer to make the file visible in order to save it.</p></li>
<li><p>Restart R. <code>.Renviron</code> is processed only at the start of an R session.</p></li>
</ol>
<p>To test that R can access this environment variable, type <code>Sys.getenv(&quot;GITHUB_{{Private}}_PAT&quot;)</code> into the console.</p>
</div>
<div id="installing-underlying-packages" class="section level4">
<h4>Installing underlying packages</h4>
<p>The utilr{{Private}} package relies on two other packages, devtools and httr. Installing these packages are available on CRAN, so you can enter into the R console:</p>
<pre class="r"><code>install.packages(c(&quot;devtools&quot;, &quot;httr&quot;))</code></pre>
<p>If your connection times out, the problem may be the {{Private}} firewall. To address this, you can add these lines to your <code>.Renviron</code> file (which you will have to update periodically)</p>
<pre><code>no_proxy=&quot;{{private_host}}&quot;

https_proxy=&quot;https://&lt;proxy_url_and_port&gt;&quot;
https_proxy_user=&quot;&lt;proxy_user&gt;:blahblahblah&quot; 

http_proxy=${https_proxy}
http_proxy_user=${https_proxy_user}</code></pre>
<p>Of course, you will have to adapt <code>https_proxy_user</code> to your particular needs. Remember to restart your R session so that the environment variables are read.</p>
<p>The converse is true: you may want to download packages outside when you are outside of the {{Private}} firewall, and it might fail. In that case, you can tell R to temporarily ignore <code>https_proxy</code>, we provide a function <code>without_proxy</code>. For example:</p>
<pre class="r"><code>without_proxy(install.packages(&quot;ggplot2&quot;))
without_proxy(install_github(&quot;hadley/ggplot2&quot;))</code></pre>
</div>
<div id="installing-utilrprivate" class="section level4">
<h4>Installing utilr{{Private}}</h4>
<p>The last step is to install utilr{{Private}}. Unfortunately, the first-time installation of this package is non-intuitive. The good news is that it will be much easier to install subsequent packages from {{Private}} GitHub.</p>
<p>Just copy and paste this code into your R console:</p>
<pre class="r"><code>devtools::install_github(
  repo = &quot;&lt;account&gt;/utilr{{Private}}&quot;, 
  auth_token = Sys.getenv(&quot;GITHUB_{{Private}}_PAT&quot;), 
  host = &quot;{{private_host}}/api/v3&quot;
)</code></pre>
<p>This should return witn an indication of success, ending with:</p>
<pre><code>* DONE (utilr{{Private}})
Reloading installed utilr{{Private}}</code></pre>
<p>Now, you can just use the <code>install_github_{{Private}}()</code> function to install any R package stored at {{Private}} GitHub:</p>
<pre class="r"><code>library(&quot;utilr{{Private}}&quot;)
install_github_{{Private}}(&quot;&lt;account&gt;/utilr{{Private}}&quot;)</code></pre>
<p>Again, a bit of up-front pain to make things easier going forward.</p>
</div>
</div>
<div id="contributing-to-private-github" class="section level3">
<h3>Contributing to {{Private}} GitHub</h3>
<p>Contributing R packages to the {{Private}} community is one of the goals of this GitHub project. Although it is outside the purview of this package, if you are interested in contributing R code, either on {{Private}} GitHub, or on <em>the</em> GitHub, I would strongly urge you to refer to <a href="http://r-pkgs.had.co.nz">Hadley’s “R Packages”</a> book. The <a href="http://r-pkgs.had.co.nz/git.html">chapter on Git and GitHub</a> may be particularly interesting to you.</p>
<p>Finally, another <a href="https://github.com/hadley/devtools#other-tips">piece of advice from Hadley</a> that I find particularly useful, and have adapted to our use.</p>
<p>In the same way that you created an <code>.Renviron</code> file, it can be useful to create a <code>.Rprofile</code> file in your home directory as well.</p>
<p>Here’s some useful code to put into your <code>.Rprofile</code> file:</p>
<pre><code>.First &lt;- function() {
  options(
    repos = c(CRAN = &quot;https://cran.rstudio.com/&quot;),
    browserNLdisabled = TRUE,
    deparse.max.lines = 2)
}

if (interactive()) {
  suppressMessages(require(&quot;devtools&quot;))
  suppressMessages(require(&quot;utilr{{Private}}&quot;))
}</code></pre>
<p>This code loads the devtools and utilr{{Private}} packages into your workspace, whenever it is interactive.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
